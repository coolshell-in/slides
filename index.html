<!DOCTYPE html>
<html>
<head>
    <title>Slides</title>
    <style>
        .nav-links {
            margin: 20px;
        }
        .nav-links a {
            margin-right: 15px;
            padding: 8px 16px;
            text-decoration: none;
            background: #f0f0f0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="nav-links">
        <a href="house">House</a>
        <a href="study">Study</a>
        <a href="god">God</a>
    </div>
    <div id="content">
        <p> slides for multiple contents </p>

        <p> Atom.X</p>
    </div>  <!-- Content div remains empty initially -->

    <script>
        function loadContent(subdir, innerPage = 'what.html') {
            fetch(`${subdir}/${innerPage}`)
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const content = doc.getElementById('content').innerHTML;

                    document.getElementById('content').innerHTML = content;

                    const scripts = doc.querySelectorAll('script');
                    scripts.forEach(script => {
                        const newScript = document.createElement('script');
                        newScript.textContent = script.textContent;
                        document.getElementById('content').appendChild(newScript);
                    });
                })
                .catch(error => {
                    document.getElementById('content').innerHTML = 'Content not available';
                });
        }


        // Event listener for link clicks
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', (event) => {
                event.preventDefault();
                const targetSubdir = link.getAttribute('href');
                loadContent(targetSubdir);  // Load content only on click
                window.history.pushState({}, '', `/${targetSubdir}`);
            });
        });

        // Handle back/forward button clicks (loads content based on URL)
        window.addEventListener('popstate', () => {
            const path = window.location.pathname;
            const subdir = path.substring(1) || 'house'; // Extract subdir or default
            loadContent(subdir);
        });

    </script>
</body>
</html>